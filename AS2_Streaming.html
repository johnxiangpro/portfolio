<!DOCTYPE HTML>
<!--
	Massively by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Temp - Streaming Services Project</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<br> <br />
				<br> <br />
			
				<!-- Nav -->
					<nav id="nav">
						<ul class="links">
							<li><a href="index.html#project">Back</a></li>
					</nav>

				<!-- Main -->
					<div id="main">
						<!-- Context -->
								<header>
									<h1>The rise of video on demand (VoD) services</h1>
									<span class="date">September 24, 2022</span>
									<header>
										<h2>Context</h2>
										</header>
						
									<p>In this project, I explore and visualise public travel data for NYC yellow cabs in efforts to identify insights around trip seasonality, trip duration & distance and payment methods & tipping across trips. The data is managed by and sourced from the <a href="https://www1.nyc.gov/site/tlc/about/tlc-trip-record-data.page" target = "_blank">Taxi and Limousine Commission (TLC)</a>, who are responsible for licensing and regulating NYC's taxi cabs and limousines. 
									<p>Broadly speaking, there are two types of cabs in NYC:
									<ul>
										<li>Yellow cabs are limited by TLC-issued medallions, have no pick-up restrictions and generally operate within Manhattan city</li>
										<li>Green cabs were introduced in 2013 to improve accessiblity, have pick-up restrictions in yellow cab zones & airports and tend to travel across NY state</li>
									</ul>

									<p>The distinction between cab types is important in our analysis as it dictates where cabs typically operate and where trips can / cannot be taken in. The analyses contains trips made by yellow cabs only and covers the months of February and August 2018 (assumed as Winter and Summer, respectively).</p>

						<!-- Objective -->
									
									<header>
										<h2>Objectives</h2>
									<p>From the analysis, I am seeking to identify useful insights and validate four key hypotheses against the data, including:
									<ol>
										<li>People travel more in the Winter than in Summer</li>
										<li>People take more trips during the evening</li>
										<li>People tip more on the weekends</li>
										<li>People take longer duration trips on the weekends</li>
									</ol>
						
						<!-- Process -->

									<header>
										<h2>Process</h2>
									<ol>
										<li>Download the primary listing data in .csv format, covering the four major streaming services (Netflix, Disney+, Amazon Prime and Hulu)</li>
										<li>Execute the following script in MySQL to load, cleanse and enrich the raw data:</li>

								<!-- Preformatted Code -->
								<pre><code><b>-- Create table(s) 'movies' and 'shows' in schema 'streaming'</b>

	CREATE TABLE movies (
		service TEXT,
		type TEXT,
		title TEXT,
		director TEXT, 
		cast TEXT,
		country TEXT,
		long_date_added TEXT, 
		release_year INT,
		rating TEXT,
        show_duration TEXT,
		movie_duration TEXT,
        genre_1 TEXT,
        genre_2 TEXT,
		genre_3 TEXT,
		genre_4 TEXT,
		description MEDIUMTEXT
	);

	CREATE TABLE shows (
		service TEXT,
		type TEXT,
		title TEXT,
		director TEXT, 
		cast TEXT,
		country TEXT,
		long_date_added TEXT, 
		release_year INT,
		rating TEXT,
		show_duration TEXT,
		movie_duration TEXT,
        genre_1 TEXT,
        genre_2 TEXT,
		genre_3 TEXT,
		genre_4 TEXT,
		description MEDIUMTEXT
	);

			DESCRIBE movies;
			DESCRIBE shows;

<b>-- Import data in .csv format to table(s) 'movies' and 'shows'</b>

    SET GLOBAL local_infile=1;
    
    LOAD DATA LOCAL INFILE 'C:/.../movies.csv'
	INTO TABLE movies 
	FIELDS TERMINATED BY ',' 
	ENCLOSED BY '"'
	LINES TERMINATED BY '\r\n'
	IGNORE 1 LINES;

	LOAD DATA LOCAL INFILE 'C:/.../shows.csv'
	INTO TABLE shows
	FIELDS TERMINATED BY ',' 
	ENCLOSED BY '"'
	LINES TERMINATED BY '\r\n'
	IGNORE 1 LINES;

			SELECT COUNT(service) FROM movies;
			SELECT COUNT(service) FROM shows;

<b>-- Union datasets 'movies' and 'shows' to create 'consolidated'</b>

	CREATE TABLE consolidated
		SELECT * FROM movies
			UNION
		SELECT * FROM shows;

	SELECT * FROM consolidated;

<b>-- Add incremented value as identifier (primary key) column to dataset 'consolidated'</b>

	ALTER TABLE consolidated
		ADD COLUMN id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY FIRST;

<b>-- Reformat column 'long_date_added' into DATE format, and rename into 'date_added'</b>

    SET SQL_SAFE_UPDATES = 0;
	
	UPDATE consolidated 
    SET long_date_added = IF(long_date_added='',NULL,STR_TO_DATE(long_date_added, "%M %e, %Y"));

	ALTER TABLE consolidated
	RENAME COLUMN long_date_added TO date_added;


<b>-- Reformat columns '*_duration' into applicable format (movies = minutes, shows = seasons)</b>

	UPDATE consolidated
    SET show_duration = REPLACE(REPLACE(show_duration, ' Seasons', ''), ' Season', '');
    
	UPDATE consolidated
    SET movie_duration = REPLACE (movie_duration,' min', '');
    
    
<b>-- Check</b>

	SELECT * FROM consolidated
		WHERE type = 'TV Show';
    
	SELECT * FROM consolidated
		WHERE type = 'Movie';


<b>-- Create mapping table for cleaned rating based on 'Motion Picture Ratings System'</b>

	CREATE TABLE rating_mapping (
		rating_group TEXT,
		rating TEXT
		);

	INSERT INTO rating_mapping 
    VALUES
		('G', 'ALL'),
		('G', 'TV-G'),
		('G', 'TV-Y'),
		('G', 'ALL_AGES'),
		('G', 'G'),
		('MA', 'R'),
		('MA', 'TV-MA'),
		('PG', '7+'),
		('PG', 'PG'),
		('PG', 'TV-PG'),
		('PG', 'TV-Y7'),
		('PG', 'TV-Y7-FV'),
		('PG-13', '13+'),
		('PG-13', 'TV-14'),
		('PG-13', 'AGES_16_'),
		('PG-13', 'PG-13'),
		('R-18', '16+'),
		('R-18', '18+'),
		('R-18', 'AGES_18_'),
		('R-18', 'NC-17'),
		('Unrated', 'NR'),
		('Unrated', 'TV-NR'),
		('Unrated', 'NOT RATED'),
		('Unrated', 'NOT_RATE'),
		('Unrated', 'UNRATED'),
		('Unrated', 'UR'),
        ('Unrated', '');

	SELECT * FROM rating_mapping;
    
<b>-- Create mapping table for unique list of all genres</b>


	CREATE TABLE genre_mapping (
		genre_map TEXT
		);
        
	INSERT INTO genre_mapping 
    VALUES
		('Action'),
		('Adult Animation'),
		('Adventure'),
		('Animals & Nature'),
		('Animation and Cartoons'),
		('Anthology'),
		('British TV Shows'),
		('Buddy'),
		('Classics'),
		('Comedy'),
		('Crime'),
		('Cult Movies'),
		('Documentary'),
		('Drama'),
		('Entertainment and Culture'),
		('Faith and Spirituality'),
		('Family and Kids'),
		('Game Show'),
		('Health, Lifestyle and Culture'),
		('History'),
		('Horror'),
		('International'),
		('LGBTQ+'),
		('Medical'),
		('Military and War'),
		('Musical and Dance'),
		('No genre'),
		('Police and Cop'),
		('Reality TV'),
		('Romance'),
		('Sci-Fi'),
		('Sitcom'),
		('Special Interest'),
		('Sports'),
		('Spy and Espionage'),
		('Superhero'),
		('Survival'),
		('Thriller and Mystery'),
		('Variety and Talk Show'),
		('Western'),
		('Young Adult');
        
	SELECT * FROM genre_mapping;</code></pre>

				<li>Load exported data into PowerBI by using MySQL Connector add-on and connecting to schema 'streaming' (and related tables)</li>
				<li>Set up active relationship between table(s) 'consolidated' and 'rating_mapping' (many to one cardinality)</li>				
					<br><br/>
						
						<!-- Insights -->

									<header>
										<h2>Insights</h2>

									<dl>
										<dt>Hypothesis 1 - People do travel more in Winter than in Summer</dt>
										<dd>
											<ul>
												<li>People in NYC travel more in Winter as opposed to Summer, which is true in both number of trips taken (8.2% higher) and passengers per trip (7.8% higher)</li>
												<li>Number of trips taken are significantly higher on weekends during the Winter (44% and 22% for Saturday and Sunday, respectively) - which could be driven by increased recreational activity during the holiday season</li>
												<li>Interestingly, the total duration of rides was lower in Winter despite number of trips being greater; which may attributable to longer travel times as a result of greater foot and car traffic during the busy working season</li>
											</ul>
										</dd>
										<dt>Hypothesis 2 - People (generally) do not take more trips during the evening</dt>
										<dd>
											<ul>
												<li>People in NYC do not tend to take more trips in the evening (defined as 6:00PM to 6:00AM); approx. 33% more trips were completed during the day</li>
												<li>The hourly distribution of travel paints a different picture, as the volume of trips continue into the early hours (12AM to 3AM) of weekends; which is like attributed to the purpose of trips (recreational, dinner, partying etc.)The hourly distribution of travel paints a different picture, as the volume of trips continue into the early hours (12AM to 3AM) of weekends; which is like attributed to the purpose of trips (recreational, dinner, partying etc.)</li>
												<li>The number of trips dropped off in outer boroughs almost doubles when comparing day and night; giving us further indication that people do travel in the evenings (perhaps for more specific reasons)</li>
											</ul>
										</dd>
										<dt>Hypothesis 3 - People do not tip more (via EFTPOS) on the weekends</dt>
										<dd>
											<ul>
												<li>People in NYC do not tend to tip more on weekends, in both tip per ride and tip per passenger (weekends fall 25% short to weekdays)</li>
												<li>Higher proportion of rides on weekends recorded no tip and is likely related to the TLC data only capturing EFTPOS tips as opposed to cash</li>
												<li>30% of all trips are paid for in cash, and therefore the exclusion of cash tips would have a material impact on our results</li>
											</ul>
										</dd>
										<dt>Hypothesis 4 - People take longer distance (but shorter duration) trips on the weekends</dt>
										<dd>
											<ul>
												<li>People in NYC tend to travel longer distances (miles) but take a shorter or comparable amount of time to complete the trip, which is true across all days of the week</li>
												<li>Short distance trips (0 and 5 miles) accounted for 85% of rides and, on a flows basis, occurs primarily within inner Manhattan</li>
												<li>Duration is less skewed than distance, and this may again lend itself to traffic-related issues experienced within inner Manhattan</li>
											</ul>
										</dd>
									</dl>

							</section>

					</div>

					<br> <br />

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>